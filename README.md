# video-edit-terraform  

## vpc

<img width="969" alt="스크린샷 2024-06-23 오후 3 33 14" src="https://github.com/SundaePorkCutlet/video-edit-terraform/assets/87690981/b0f65b10-9ec3-4f83-b7a1-1e9d3da77172">


### 라우팅 테이블 (Route Table)
라우팅 테이블은 네트워크 트래픽이 어디로 가야 하는지를 결정하는 규칙(라우트)들의 모음입니다. 각 서브넷은 라우팅 테이블과 연관되어 있으며, 라우팅 테이블은 트래픽이 어떤 네트워크 게이트웨이나 장치로 전달되어야 하는지를 정의합니다. 라우팅 테이블의 주요 목적은 다음과 같습니다:

**트래픽 경로 지정**: 각 서브넷에서 외부로 나가는 트래픽이 어떤 게이트웨이를 통해 전달될지를 지정합니다.
**네트워크 분할 및 보안**: 라우팅 테이블을 통해 네트워크를 세분화하고, 특정 트래픽만 허용하거나 차단할 수 있습니다.
### 인터넷 게이트웨이 (Internet Gateway, IGW)
인터넷 게이트웨이는 VPC 내의 리소스가 인터넷과 통신할 수 있도록 하는 게이트웨이입니다. 인터넷 게이트웨이는 퍼블릭 서브넷과 연관되어 있으며, 주로 다음 용도로 사용됩니다:

**인바운드 트래픽**: 인터넷에서 VPC 내부의 리소스로 트래픽을 허용합니다.
**아웃바운드 트래픽**: VPC 내부의 리소스가 인터넷으로 나가는 트래픽을 허용합니다.
퍼블릭 서브넷은 인터넷 게이트웨이를 통해 인터넷과 직접적으로 연결됩니다.

### NAT 게이트웨이 (NAT Gateway)
NAT 게이트웨이는 프라이빗 서브넷에서 인터넷으로 나가는 트래픽을 허용하지만, 인터넷에서 프라이빗 서브넷으로 들어오는 트래픽은 차단하는 게이트웨이입니다. NAT 게이트웨이는 주로 다음 용도로 사용됩니다:

**아웃바운드 트래픽**: 프라이빗 서브넷에 있는 리소스가 인터넷으로 나가는 트래픽을 허용합니다.
**보안**: 프라이빗 서브넷의 리소스가 직접적으로 인터넷에 노출되지 않도록 보호합니다.
프라이빗 서브넷은 NAT 게이트웨이를 통해 인터넷으로 나가는 트래픽을 라우팅하며, 주로 소프트웨어 업데이트나 외부 서비스에 접근하는 용도로 사용됩니다.

요약
**라우팅 테이블**: 네트워크 트래픽의 경로를 지정합니다.
**인터넷 게이트웨이 (IGW)**: VPC와 인터넷 간의 통신을 허용합니다. 퍼블릭 서브넷과 연관됩니다.
**NAT 게이트웨이**: 프라이빗 서브넷의 리소스가 인터넷으로 나가는 트래픽을 허용하되, 인터넷에서 들어오는 트래픽은 차단합니다.

### OpenVPN Access Server AMI 사용:

aws_instance 리소스에서 AMI ID를 OpenVPN Access Server AMI로 설정합니다. 이 AMI ID는 서울 리전에서 사용 가능한 OpenVPN Access Server AMI ID입니다.
보안 그룹 설정:

OpenVPN Access Server의 기본 포트인 443, 943, 1194를 열어줍니다. 또한 SSH 접근을 위해 22 포트를 열어줍니다.
OpenVPN Access Server 설정
OpenVPN Access Server는 AWS Marketplace에서 제공되는 AMI를 사용하여 쉽게 설치할 수 있습니다. 설치 후 웹 인터페이스를 통해 VPN 서버를 설정하고 관리할 수 있습니다. OpenVPN Access Server는 다음과 같은 포트를 사용합니다:

**TCP 443**: OpenVPN 클라이언트 웹 인터페이스  
**TCP 943**: Admin 웹 인터페이스  
**UDP 1194**: OpenVPN 클라이언트 연결  
